{% extends 'base.html' %}

{% block title %}New Event{% endblock %}

{% block head %}
    <script src="https://code.jquery.com/jquery-3.6.0.js" 
            integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" 
            crossorigin="anonymous"></script>
{% endblock %}

{% block body %}

<p>
	{% with messages = get_flashed_messages() %}
	  {% if messages %}
		<ul>
		{% for message in messages %}
		  <li>{{ message }}</li>
		{% endfor %}
		</ul>
	  {% endif %}
	{% endwith %}
</p>

<form action="/new-event" method="POST" enctype="multipart/form-data">
    {{ event_form.hidden_tag() }}
    <h4>Please enter the details below to add your event</h4>
    <div>
        <label>Event category: </label>
        {{ event_form.category}}
    </div>
    <br>
    <div>
        <label>Event theme color: </label>
        {{ event_form.theme(placeholder="Theme color") }}
        <!-- <input type="text" name="theme"> -->
    </div>
    <br>
    <div>
        <label>Description of the event: </label>
        {{ event_form.event_description(placeholder="Event description") }}
        <!-- <textarea name="description"></textarea> -->
    </div>
    <br>
    <div>
        <label>Upload an event image: </label>
        {{ event_form.event_image() }}
        <!-- <input type="file" name="file" autocomplete="off" required> -->
    </div>
    <br>
    <h4>Enter an item from your event and some details about it</h4>
    <table id="items-table" border="3">
        <tr>
            <td>
                <div>
                    <label>Item name: </label>
                    {{ item_form.name(placeholder="Item Name") }}
                    <!-- <input type="text" name="name-0"> -->
                </div>
                <br>
                <div>
                    <label>Description: </label>
                    {{ item_form.item_description(placeholder="Item description") }}
                    <!-- <textarea name="description-0"></textarea> -->
                </div>
                <br>
                <div>
                    <label>Upload an item image: </label>
                    {{ item_form.item_image() }}
                    <!-- <input type="file" name="file-0" autocomplete="off" required> -->
                </div>
                <br>
                <div>
                    <label>Link where to get it from: </label>
                    {{ item_form.link(placeholder="Item link/source") }}
                    <!-- <input type="text" name="link-0"> -->
                </div>
        </td>
        </tr>
    </table>
    <input type="hidden" name="number-of-items" id="number-of-items" value = "1">
    <br>
    <div>
        <button type="button" id="add-item">Click to add another item</button>
    </div>
    <br>
    <div>
        <input type="submit">
    </div>
</form>

<script src="/static/js/events.js"></script>

{% endblock %}